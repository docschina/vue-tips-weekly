---
title: "ğŸ”¥ (#72) The CSS Unselector"
head:
  - - link
    - rel: canonical
      href: https://michaelnthiessen.com/weekly-072-august-03/
---

# ğŸ”¥ (#72) The CSS Unselector

August 2022

å¤©å“ªï¼Œè™½ç„¶å·²ç»æŒç»­å‘å¸ƒäº† 71 å‘¨çš„å‘¨åˆŠï¼Œæˆ‘ä»Šå¤©å·®ç‚¹å¿˜äº†ï¼

æ–°å‘¨åˆŠå‘äº†ï¼Œè™½è¿Ÿä½†åˆ°ï¼

è¿™æ˜¯æœ¬å‘¨çš„ tips å†…å®¹ï¼

â€” Michael

## ğŸ”¥ The CSS Unselector

æèµ· CSS æˆ‘ä»¬é€šå¸¸è®¨è®ºçš„æ˜¯å¦‚ä½•é€šè¿‡é€‰æ‹©å™¨æ¥é€‰æ‹©å…·ä½“å…ƒç´ ã€‚

è¦ç¡®ä¿é€‰å¯¹äº†å…ƒç´ ï¼Œè¿™å¾ˆéš¾ã€‚

æˆ‘çš„åšå®¢ä½¿ç”¨äº† Vue Router æä¾›çš„ `.router-link-active` æ¥è®©é“¾æ¥å½“å‰çš„é¡µé¢ã€‚æˆ‘ä¼šæ”¹å˜å½“å‰é“¾æ¥çš„é¢œè‰²ï¼Œè®©ç”¨æˆ·çŸ¥é“æˆ‘ä»¬åœ¨å“ªã€‚

But I wanted to make sure that all links _within_ the page do not get highlighted in the same way.
æˆ‘æƒ³ç¡®ä¿é¡µé¢é‡Œçš„é“¾æ¥

For example, a table of contents at the beginning of an article should have normal looking links, not the changed colour.

To do this I needed to avoid selecting all of the links with a `#` in the `href` attribute:

```css
.router-link-active: not([href * = "#" ]);
```

Iâ€™m using a `:not` query, but then using an attribute selector inside of that.

My actual code is even more fun, because there are a few other things going on that I need to account for:

```css
.nav-link.router-link-exact-active:not(.site-title):not([href*='#'])
```

## ğŸ”¥ åŠ¨æ€è¿”å›å€¼

ç»„åˆä»£ç å¯ä»¥è¿”å›å•ä¸ªå€¼æˆ–è€…å¯¹è±¡ã€‚é€šå¸¸ï¼Œä½¿ç”¨ `ref` åŒ…è£¹ã€‚

ä½†æˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦åŠ¨æ€åˆ‡æ¢ï¼š

```javascript
// è¿”å›å•ä¸ªå€¼
const now = useNow();

// æ›´ç²¾ç»†æ§åˆ¶
const { now, pause, resume } = useNow({ controls: true });
```

è¿™å¾ˆæ£’ï¼Œå› ä¸ºå¤§å¤šæ•°æƒ…å†µæˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªå€¼ã€‚ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå˜å¾—å¤æ‚å‘¢ï¼Ÿ

é€šè¿‡åŠ¨æ€æä¾› `ref` å¯¹è±¡å€¼ï¼Œå¯ä»¥è®©æˆ‘ä»¬æ›´é«˜çº§åœ°ä½¿ç”¨ä»–ä»¬ï¼Œå³ä¾¿ä»–ä»¬å¾ˆå°‘è¢«ä½¿ç”¨ã€‚

å†…éƒ¨å¯èƒ½è¿™æ ·å®ç°ï¼š

```javascript
export default useNow(opts) {
  const {
    controls = false,
	} = opts;

	// Do some things in your composable

  if (controls) {
    return { now, pause, resume };
  } else {
    return now;
  }
}
```

## ğŸ“œ å¤±æ•ˆçš„è®¡ç®—å±æ€§ Computed

ä½ æœ‰æ²¡æœ‰é‡åˆ°è¦å¼ºåˆ¶æ›´æ–°è®¡ç®—å±æ€§çš„æƒ…å†µï¼Ÿæœ‰æ²¡æœ‰æƒ³è¿‡ä¸ºå•¥ä¼šé‡åˆ°è¿™ç§æƒ…å†µï¼Ÿ

åœ¨è¿™ç¯‡æ–‡ç« é‡Œï¼ŒAbdelrahman å±•ç¤ºäº†ä¸€ç§éå¸¸èªæ˜çš„æ–¹æ³•ï¼Œæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

è¿›ä¸€æ­¥é˜…è¯»ï¼š[Invalidating Computed with the Composition API](https://logaretm.com/blog/2021-01-31-invalidating-computed)

## ğŸ’¬ ç†è®ºå’Œå®è·µ

â€œç†è®ºæ˜¯ä½ çŸ¥é“ä¸€äº›ä¸œè¥¿ï¼Œä½†ä¸ä¼šä½¿ç”¨ã€‚å®è·µæ˜¯ä½ çŸ¥é“æŸäº›ä¸œè¥¿èµ·ä½œç”¨ï¼Œä½†ä¸çŸ¥é“ä¸ºä»€ä¹ˆã€‚ç¨‹åºå‘˜ä»¬ä¼šç»Ÿä¸€ç†è®ºå’Œå®è·µï¼šç¨‹åºè·‘ä¸èµ·æ¥ï¼Œä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆâ€ â€”Unknown

## ğŸ§  é—´éš”é‡å¤ï¼šä¸ºä»€ä¹ˆå¿…é¡»æœ‰ä¸€ä¸ªçœŸç›¸çš„æ¥æº

**æƒ³è¦é•¿æ—¶é—´ç‰¢ç‰¢è®°ä½æŸäº›äº‹æƒ…ï¼Œæœ€å¥½æ–¹å¼å°±æ˜¯å®šæœŸå›é¡¾ï¼Œé€æ¸å¢åŠ å›é¡¾çš„é—´éš” ğŸ‘¨â€ğŸ”¬**

**å®é™…ä¸Šï¼Œè®°ä½è¿™äº› tips æ¯”å‘å‘†æœ‰ç”¨å¾—å¤šï¼Œè¿™æ˜¯å‡ å‘¨å‰çš„ä¸€ä¸ª tip å¯ä»¥å”¤èµ·ä½ çš„è®°å¿†ã€‚**

è¿™æ˜¯æˆ‘ç†è§£çš„çŠ¶æ€ç®¡ç†å…³é”®åŸåˆ™ï¼š

**Each piece of state has a single owner, a single source of truth.**

**æ¯ä¸ªéƒ¨åˆ†çš„çŠ¶æ€æ˜¯ç‹¬ç«‹çš„ã€å•ä¸€çš„ä¿¡æ¯æ¥æº**

ä¸å…è®¸åœ¨å…¶ä»–åœ°æ–¹ä¿®æ”¹çŠ¶æ€ï¼Œæ™ºèƒ½æ˜¯ä¸´æ—¶è°ƒå–å¼•ç”¨ã€‚

å¦‚æœ Vuex å­˜å‚¨äº†ä¸€ä¸ªæ•°ç»„ï¼Œé‚£åªèƒ½åœ¨ Vuex é‡Œå­˜å‚¨å’Œæ›´æ–°ã€‚åº”ç”¨ä¸­å¦‚æœè¦ä½¿ç”¨è¿™ä¸ªå€¼ï¼Œå¿…é¡»ä» store é‡Œè¯»å–ï¼Œç›´æ¥è¯»å–æˆ–è€…é€šè¿‡å…¶ä»–ç»„ä»¶è¯»å–ã€‚

å¦‚æœè¿™ä¸ªçŠ¶æ€æ˜¯æŸä¸ªç»„ä»¶ç‹¬æœ‰ï¼Œåªæœ‰è¿™ä¸ªç»„ä»¶å¯ä»¥ä¿®æ”¹å®ƒã€‚è¿™æ„å‘³ç€å…¶ä»–ç»„ä»¶æ¯”å¦‚é€šè¿‡ `emit` äº‹ä»¶æ¥è¿›è¡Œæ“ä½œæ›´æ–°ã€‚

ä¸ºä»€ä¹ˆï¼Ÿ

å¦‚æœä½ å…è®¸åœ¨ä»»æ„ä½ç½®ä¿®æ”¹ï¼Œä»£ç ä¼šä¸€å›¢ç³Ÿã€‚

é€šè¿‡å•ä¸€çš„çŠ¶æ€æ¥æºï¼Œä½ å¯ä»¥è½»æ¾ç†è§£å‘ç”Ÿäº†ä»€ä¹ˆã€‚

æœ€å¥½çš„ä»£ç æ˜¯æ˜“è¯»æ˜“æ‡‚çš„ã€‚

_p.s. I also have two courses: [Reusable Components](https://michaelnthiessen.com/reusable-components) and [Clean Components](https://michaelnthiessen.com/clean-components)_

## æ¥æº

åŸæ–‡ https://michaelnthiessen.com/weekly-072-august-03/

æœ¬ä½œå“é‡‡ç”¨[çŸ¥è¯†å…±äº«ç½²å-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®](http://creativecommons.org/licenses/by-sa/4.0/)è¿›è¡Œè®¸å¯ã€‚

---
title: "ğŸ”¥ (#76) I have an announcement..."
head:
  - - link
    - rel: canonical
      href: https://michaelnthiessen.com/weekly-076-august-31/
---

# ğŸ”¥ (#76) I have an announcement...

2022 å¹´ 8 æœˆ

Hey!

æˆ‘ä»Šå¤©æœ‰ä¸€ä¸ªé‡è¦çš„å…¬å‘Šè¦å®£å¸ƒç»™ä½ ï¼š

**æˆ‘å°†æ˜¯ä½ æŒæ¡ Nuxt 3 çš„æ•™ç»ƒï¼**

ï¼ˆä½†ä¸è¦å‘Šè¯‰ä»»ä½•äººï¼Œå®ƒè¿˜æ²¡æœ‰æ­£å¼å®£å¸ƒï¼‰

Mastering Nuxt æ˜¯ Nuxt çš„ **å®˜æ–¹è¯¾ç¨‹**ï¼Œä¸ VueSchool å’Œ Nuxt Labsï¼ˆNuxt çš„åˆ›å»ºè€…ï¼‰åˆä½œåˆ›å»ºã€‚

æˆ‘ä»¬æ­£åœ¨åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„è¯¾ç¨‹ï¼Œæ•™ä½ å¦‚ä½•ä½¿ç”¨ Nuxt 3 æ„å»ºçœŸå®çš„å…¨æ ˆåº”ç”¨ç¨‹åºã€‚å®ƒå°†åœ¨æœªæ¥å‡ ä¸ªæœˆå†…å‘å¸ƒï¼Œåœ¨æ­¤æœŸé—´ï¼Œæˆ‘å°†ä¸æ‚¨åˆ†äº«æ›´å¤šç»†èŠ‚ã€‚

è¿™å°†æ˜¯å²è¯—èˆ¬çš„ï¼

æ‚¨ç”šè‡³å¯èƒ½å¼€å§‹åœ¨è¿™é‡Œçœ‹åˆ°ä¸€äº›ä¸ Nuxt ç›¸å…³çš„æç¤º...

â€”Michael

One kind of prop, a template prop, can be directly converted into slots without very much work.

This makes your component [more reusable](https://michaelnthiessen.com/slots-are-better-than-props/).

The `text` prop here is a template prop, because it is only ever used in the template:

## ğŸ”¥ é€šè¿‡å°†æ¨¡æ¿ props è½¬æ¢ä¸º æ’æ§½æ¥æé«˜å¯å¤ç”¨æ€§

æ¨¡æ¿ä¸­çš„ propsï¼Œå¯ä»¥ç›´æ¥è½¬æ¢æˆæ’æ§½ slotsï¼Œè€Œä¸éœ€è¦å¤ªå¤šçš„å·¥ä½œã€‚

è¿™ä½¿å¾—ä½ çš„ç»„ä»¶ [æ›´æ˜“äºå¤ç”¨](https://michaelnthiessen.com/slots-are-better-than-props)ã€‚

è¿™é‡Œçš„ `text` æ˜¯ä¸€ä¸ªæ¨¡æ¿é‡Œçš„ prop ï¼Œå› ä¸ºå®ƒåªåœ¨æ¨¡æ¿ä¸­ä½¿ç”¨è¿‡ï¼š

```html
<template>
  <button @click="$emit('click')">{{ text }}</button>
</template>
```

```javascript
export default {
  name: "Button",
  props: {
    text: {
      type: String,
      required: true,
    },
  },
};
```

å®ƒä¸ä¼šåœ¨ä»»ä½•è®¡ç®—ä¸­ä½¿ç”¨ï¼Œä¹Ÿä¸ä¼šä¼ é€’åˆ°ä»»ä½•åœ°æ–¹ã€‚ç›¸åï¼Œå®ƒåªæ˜¯è¢«ç›´æ¥æ’å€¼å¹¶å‘ˆç°åˆ°é¡µé¢ã€‚

è¿™ç§ç±»å‹çš„ props å¯ä»¥ç›´æ¥ç”¨æ’æ§½æ›¿æ¢ï¼š

```html
<template>
  <button @click="$emit('click')">
    <slot />
  </button>
</template>
```

```javascript
export default {
  name: "Button",
};
```

è¿™ç§æ¸…ç†äº†ä»£ç ï¼Œä½†æ›´é‡è¦çš„æ˜¯ï¼Œå®ƒä½¿æˆ‘ä»¬èƒ½å¤Ÿæ›´çµæ´»åœ°ä½¿ç”¨ç»„ä»¶ã€‚

å¯¹äº propï¼Œæˆ‘ä»¬å¿…é¡»åƒè¿™æ ·ä½¿ç”¨ç»„ä»¶ï¼š

```html
<button text="Click me" @click="handleClick" />
```

å¦‚æœä½¿ç”¨æ’æ§½ï¼Œå¯ä»¥è¿™æ ·ä»»æ„ä½¿ç”¨ï¼š

```html
<button @click="handleClick">Click on <strong>this</strong> button</button>
```

## ğŸ”¥ çµæ´»å‚æ•°

æœ‰æ—¶æˆ‘ä»¬ä¼šè®¾ç½® `ref` å˜é‡ï¼Œæƒ³è¦ä¸å…¶ä»–å¯ç»„åˆé€»è¾‘ä¸€èµ·ä½¿ç”¨ã€‚æœ‰æ—¶æˆ‘ä»¬è®¾ç½®åŸå§‹æ•°æ®ã€‚

Wouldnâ€™t it be nice if it didnâ€™t matter what we already had? Then we could use our composables and it would just _work_?

å¦‚æœæˆ‘ä»¬å·²ç»æ‹¥æœ‰çš„ä¸œè¥¿æ— å…³ç´§è¦ï¼Œé‚£ä¸æ˜¯å¾ˆå¥½å—ï¼Ÿç„¶åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æˆ‘ä»¬çš„å¯ç»„åˆç‰©ï¼Œå®ƒåªæ˜¯ **èƒ½è·‘**ï¼Ÿ

ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ VueUse å¯ç»„åˆçš„ `useTitle` çš„ç¤ºä¾‹ï¼š

```javascript
// We have a ref already
const titleRef = ref("This is the title of the page");
useTitle(titleRef);

// We just have the string
const title = "This is the title of the page";
const titleRef = useTitle(title);
```

æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ç°çµæ´»å‚æ•°æ¨¡å¼æ¥åšåˆ°è¿™ä¸€ç‚¹ï¼š

```javascript
export function useTitle(maybeRef) {
  const titleRef = ref(maybeRef);

  // Use titleRef in the composable
}
```

The opposite is true with the `unref` function. If we need to use a raw primitive value rather than a `ref` in our composable, we can use `unref` to achieve a similar result.

`ref` å‡½æ•°ä¼šä¸ºæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª `ref` å˜é‡ï¼Œæˆ–è€…è¿”å›ç»™å®šçš„ `ref` å˜é‡ã€‚

è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ä¼ é€’ä»»ä½•ä¸€ç§ç±»å‹ï¼Œæœ€ç»ˆå°†å¾—åˆ°ä¸€ä¸ª `ref` å˜é‡ã€‚

`unref` å‡½æ•°çš„æƒ…å†µæ­£å¥½ç›¸åã€‚å¦‚æœæˆ‘ä»¬éœ€è¦ä½¿ç”¨åŸå§‹å€¼è€Œä¸æ˜¯ `ref` å˜é‡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ `unref` å‡½æ•°æ¥è¿”å›åŸå§‹å€¼ã€‚

```javascript
export function useTitle(maybeRef) {
  const titleString = unref(maybeRef);

  // Use titleString in the composable
}
```

## ğŸ“œ Vite ç”Ÿæ€

Vite å°† Web å¼€å‘å·¥å…·æå‡åˆ°äº†ä¸€ä¸ªæ–°çš„æ°´å¹³ã€‚

æœ¬æ–‡æ¢è®¨äº† Vite ä½¿ç”¨å’Œäº¤äº’æ‰€ç”¨åˆ°çš„ä¸åŒå·¥å…·ï¼Œå¹¶å±•ç¤ºäº†å®ƒå¯¹ Web å¼€å‘ç¤¾åŒºçš„å½±å“ç¨‹åº¦ã€‚

çœ‹åˆ°ä¸€ä¸ªåœ¨ Vue-land å¼€å§‹çš„é¡¹ç›®å¾—åˆ°è¿™æ ·çš„å¹¿æ³›é‡‡ç”¨ï¼Œè¿™çœŸæ˜¯å¤ªé…·äº†ï¼

åœ¨è¿™é‡Œé˜…è¯»ï¼š[Vite ç”Ÿæ€](https://patak.dev/vite/ecosystem.html)

## ğŸ’¬ Things

"Things arenâ€™t always #000000 and #FFFFFF." â€”`undefined`

"ä¸–ä¸Šçš„äº‹æƒ…å¹¶ä¸å…¨æ˜¯éé»‘å³ç™½" â€”`undefined`

## ğŸ§  é—´éš”é‡å¤ï¼šVue ä¸­ç‰¹æ®Šçš„ CSS ä¼ªç±»é€‰æ‹©å™¨

**æƒ³è¦é•¿æ—¶é—´ç‰¢ç‰¢è®°ä½æŸäº›äº‹æƒ…ï¼Œæœ€å¥½æ–¹å¼å°±æ˜¯å®šæœŸå›é¡¾ï¼Œé€æ¸å¢åŠ å›é¡¾çš„é—´éš” ğŸ‘¨â€ğŸ”¬**

**å®é™…ä¸Šï¼Œè®°ä½è¿™äº› tips æ¯”å‘å‘†æœ‰ç”¨å¾—å¤šï¼Œè¿™æ˜¯å‡ å‘¨å‰çš„ä¸€ä¸ª tip å¯ä»¥å”¤èµ·ä½ çš„è®°å¿†ã€‚**

å¦‚ä½ æƒ³ç»™ slot å†…å®¹æ·»åŠ é¢å®šçš„æ ·å¼ï¼Œä½ å¯ä»¥ä½¿ç”¨ `:slotted` è¿™ä¸ªä¼ªç±»é€‰æ‹©å™¨ï¼š

```html
<style scoped>
  /* ç»™ä¼ å…¥çš„ slot <p> æ ‡ç­¾æ·»åŠ  margin */
  :slotted(p) {
    margin: 15px 5px;
  }
</style>
```

ä¹Ÿå¯ä»¥ä½¿ç”¨ `:global` æ¥åº”ç”¨å…¨å±€ scope æ ·å¼ï¼Œåœ¨ `<style scoped>` ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼š

```html
<style scoped>
  :global(body) {
    margin: 0;
    padding: 0;
    font-family: sans-serif;
  }
</style>
```

å¦‚æœæœ‰å¾ˆå¤šå…¨å±€æ ·å¼æƒ³æ·»åŠ ï¼Œæ›´ç®€å•çš„æ–¹å¼æ˜¯æ·»åŠ ç¬¬äºŒä¸ª `<style>` æ ‡ç­¾ï¼š

```html
<style scoped>
  /* Add margin to <p> tags within the slot */
  :slotted(p) {
    margin: 15px 5px;
  }
</style>

<style>
  body {
    margin: 0;
    padding: 0;
    font-family: sans-serif;
  }
</style>
```

é˜…è¯» [æ–‡æ¡£](https://v3.vuejs.org/api/sfc-style.html#slotted-selectors) äº†è§£æ›´å¤šã€‚

_p.s. I also have two courses: [Reusable Components](https://michaelnthiessen.com/reusable-components) and [Clean Components](https://michaelnthiessen.com/clean-components)_

## æ¥æº

åŸæ–‡ https://michaelnthiessen.com/weekly-076-august-31/

æœ¬ä½œå“é‡‡ç”¨[çŸ¥è¯†å…±äº«ç½²å-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®](http://creativecommons.org/licenses/by-sa/4.0/)è¿›è¡Œè®¸å¯ã€‚

# ğŸ”¥ (#70) Configuration driven templates

July 2022

Heyo!

æˆ‘ä»¬åœ¨ç››å¤äº†ã€‚

æˆ‘è¦åœ¨æˆ‘çš„ 2015 æ¬¾ MBP çƒ§ä¼¤æˆ‘çš„è…¿ä¹‹å‰å†™å®Œå‘¨åˆŠã€‚

ä½†æ¯”èµ·é˜³å…‰å’Œç©ºæ°”æ˜¯å€¼å¾—çš„ã€‚

é ç€ç©ºè°ƒï¼Œæˆ‘æ‰èƒ½åœ¨å¦‚æ­¤æ½®æ¹¿ç‚çƒ­çš„æ™šä¸Šç¡è§‰ã€‚

æˆ‘çš„ç©ºè°ƒå·²ç»è¶…è¿‡ 30 å¹´å†å²äº†ï¼Œçœ‹èµ·æ¥è¿˜èƒ½å†ä½¿ç”¨ 25 å¹´ã€‚

ç©ºè°ƒè¿è¡Œèµ·æ¥å™ªå£°å¾ˆå¤§ï¼Œä½†å¹´å¤ä¸€å¹´è¿˜èƒ½ç»§ç»­ä½¿ç”¨ã€‚

å“ˆå“ˆï¼Œæˆ‘çŸ¥é“ä½ å¹¶ä¸å…³å¿ƒæˆ‘çš„ç©ºè°ƒã€‚

æ¥ä¸‹æ¥å¼€å§‹å‘¨åˆŠå†…å®¹ã€‚

â€”Michael

## ğŸ”¥ Ref vs. Reactive

åœ¨ä½¿ç”¨ `composition API` çš„æ—¶å€™ï¼Œç”¨ `ref` å¥½è¿˜æ˜¯ `reactive` æ›´å¥½ï¼Ÿ

è¿™é‡Œåˆ—ä¸¾ä¸€äº› `ref` æ¯” `reactive` æœ‰ä¼˜åŠ¿çš„åœ°æ–¹ã€‚

ä½¿ç”¨ `ref` åŒ…è£¹ js å¯¹è±¡ï¼ŒåŒæ—¶å¯¹æ¯” `reactive` å’Œæ™®é€šå¯¹è±¡çš„ä½¿ç”¨åœºæ™¯ï¼ŒåŒºåˆ«æ˜¾è€Œæ˜“è§ï¼š

```javascript
// I can expect this ref to update reactively
if (burger.value.lettuce) {
  // ...
}

// I have no clue if this value is reactive
if (burger.lettuce) {
  // ...
}
```

ä½¿ç”¨ `watch` æ–¹æ³•æ—¶ï¼Œ`ref` ä¼šè‡ªåŠ¨è§£æ„ï¼Œéå¸¸æ˜“ç”¨ï¼š

```javascript
// Ref
const refBurger = ref({ lettuce: true });
watch(
  // Not much, but it's a bit simpler to work with
  refBurger,
  () => console.log("The burger has changed"),
  { deep: true }
);

// Reactive
const reactiveBurger = reactive({ lettuce: true });
watch(
  () => burger,
  () => console.log("The burger has changed"),
  { deep: true }
);
```

ä½¿ç”¨ `ref` è¿˜æœ‰ä¸€ä¸ªä¼˜ç‚¹ï¼Œä½ å¯ä»¥åœ¨ `ref` ä¸­æ”¾å…¥ `reactive` å¯¹è±¡ã€‚è¿™æ ·å¯ä»¥ä»»æ„ç»„åˆ `reactive` å¯¹è±¡ï¼Œåº•å±‚è¿˜æ˜¯ä½¿ç”¨ `ref`ï¼š

```javascript
const lettuce = ref(true);
const burger = reactive({
  // æŠŠ ref å˜æˆå±æ€§
  lettuce,
});

// ç›´æ¥ç›‘å¬ reactive å¯¹è±¡
watchEffect(() => console.log(burger.lettuce));

// ä¹Ÿå¯ä»¥ç›´æ¥ç›‘å¬ ref
watch(lettuce, () => console.log("lettuce has changed"));

setTimeout(() => {
  // æ›´æ–° ref çš„å€¼ï¼Œä¼šè‡ªåŠ¨è§¦å‘æ‰€æœ‰çš„ watchers
  lettuce.value = false;
}, 500);
```

## ğŸ”¥ é…ç½®é©±åŠ¨æ¨¡æ¿

æˆ‘ç®€åŒ–æ¨¡æ¿çš„ä¸€ä¸ªå¸¸ç”¨æ–¹å¼æ˜¯**é…ç½®é©±åŠ¨**ã€‚

æˆ‘ä¸ä¼šåƒè¿™æ ·é‡å¤ç¼–å†™æ¨¡æ¿ï¼š

```html
<template>
  <div>
    <menuitem @click="openContact"> Open Contact </menuitem>
    <menuitem @click="createContact"> Create Contact </menuitem>
    <menuitem @click="sendEmail"> Send Email </menuitem>
    <menuitem @click="resetSystem" danger> Reset </menuitem>
  </div>
</template>
```

é€šå¸¸ä¼šé‡æ„æˆé€šè¿‡é…ç½®é¡¹æ¥é©±åŠ¨æ¸²æŸ“ï¼š

```html
<template>
  <div>
    <menuitem
      v-for="item in menuItems"
      :key="item.text"
      :danger="item.danger"
      @click="item.action"
    >
      {{ item.text }}
    </menuitem>
  </div>
</template>
```

```html
<script setup>
  const openContact = () => {
    /* ... */
  };
  const createContact = () => {
    /* ... */
  };
  const sendEmail = () => {
    /* ... */
  };
  const resetSystem = () => {
    /* ... */
  };

  const menuItems = [
    {
      text: "Open Contact",
      action: openContact,
    },
    {
      text: "Create Contact",
      action: createContact,
    },
    {
      text: "Send Email",
      action: sendEmail,
    },
    {
      text: "Reset System",
      action: resetSystem,
      danger: true,
    },
  ];
</script>
```

æˆ‘ä»¬æ²¡æœ‰å‡å°‘ä»£ç ï¼Œä½†è®©ä»£ç æ›´ç®€æ´äº†ï¼š

- **é…ç½®é¡¹æ›´æ˜“è¯»** â€” é˜…è¯»ä»£ç å¾ˆå¤æ‚ï¼Œå› ä¸ºä½ è¦ææ¸…æ¥šå…·ä½“çš„é€»è¾‘ï¼Œä½†é…ç½®é¡¹æ˜¯éå¸¸ç®€å•æ˜“æ‡‚çš„ã€‚
- **æ›´å°‘çš„é€»è¾‘æ„å‘³ç€æ›´å°‘çš„ bug** â€” ä¸Šé¢çš„é…ç½®é¡¹æ˜¯ä¸€ä¸ªç®€å•çš„å¯¹è±¡æ•°ç»„ï¼Œæ‰€ä»¥ bug é€šå¸¸ä¸ä¼šåœ¨æ•°ç»„é‡Œå‡ºç°ã€‚
- **åŠ¨æ€ç»„ä»¶ä¼šæ›´çµæ´»** â€” æˆ‘ä»¬è®©èœå•ç»„ä»¶åŠ¨æ€æ¸²æŸ“ï¼Œè·å¾—äº†æ›´å¤šçµæ´»æ€§ã€‚

[å…³äºè¿™ä¸ªè§‚ç‚¹](http://michaelnthiessen.com/reducing-redundant-repetition)ï¼Œæˆ‘å†™äº†è¿™ç¯‡æ–‡ç« 

## ğŸ“œ ç¼–å†™è‡ªå·±çš„ Vue.js

ä¸€ä¸ªå¤§å®¶éƒ½æ„ŸåŒèº«å—çš„æƒè¡¡é—®é¢˜ï¼Œæ˜¯ä½¿ç”¨ç°æˆçš„è§£å†³æ–¹æ¡ˆï¼Œè¿˜æ˜¯è‡ªå·±é‡æ–°å®ç°ä¸€ä¸ªæ–¹æ¡ˆï¼Ÿ

[æˆ‘å†™äº†ä¸€ä¸ªè‡ªå·±çš„ Vue.js](https://www.dopefly.com/techblog/405/I-Wrote-My-Own-Vue-js)

## ğŸ’¬ æ··æ²Œ

â€œè‡ªåŠ¨åŒ–çš„æ··ä¹±ä¼šè®©æ··ä¹±æ›´å¿«å‘ç”Ÿã€‚â€ â€” Mark Fewster

## ğŸ§  é—´éš”é‡å¤ï¼šå¾ªç¯çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ

**æƒ³è¦é•¿æ—¶é—´ç‰¢ç‰¢è®°ä½æŸäº›äº‹æƒ…ï¼Œæœ€å¥½æ–¹å¼å°±æ˜¯å®šæœŸå›é¡¾ï¼Œé€æ¸å¢åŠ å›é¡¾çš„é—´éš” ğŸ‘¨â€ğŸ”¬**

**å®é™…ä¸Šï¼Œè®°ä½è¿™äº› tips æ¯”å‘å‘†æœ‰ç”¨å¾—å¤šï¼Œè¿™æ˜¯å‡ å‘¨å‰çš„ä¸€ä¸ª tip å¯ä»¥å”¤èµ·ä½ çš„è®°å¿†ã€‚**

æˆ‘å¸¸å¸¸å¿˜è®°è¿™äº›ï¼Œè¿™ä¸ª tip å¯¹æˆ‘å¾ˆæœ‰ç”¨ã€‚çœŸå¸Œæœ›æˆ‘ä¸éœ€è¦æŒç»­å›é¡¾äº†ã€‚

js ä¸­æœ‰ä¸‰ç§ `for` å¾ªç¯ç±»å‹ï¼š

1. `for...in`
2. `for...of`
3. `for`

ä½ çŸ¥é“è¯¥ä½¿ç”¨å“ªä¸€ç§å—ï¼Ÿ

å¦‚æœè¦éå†å¯¹è±¡çš„**å±æ€§**ï¼Œå¯ä»¥ä½¿ç”¨ `for...in`ï¼š

```javascript
const numbers = {
  one: 1,
  two: 2,
  three: 3,
};

// è·å¾—å¯¹è±¡çš„å±æ€§ï¼Œè€Œä¸æ˜¯å€¼
for (const number in numbers) {
  console.log(number);
}

// Prints: 'one' 'two' 'three'
```

åœ¨**åˆ—è¡¨ list**ä¸­ï¼Œæˆ–è€…è¯´å¯è¿­ä»£å¯¹è±¡ï¼Œæ¯”å¦‚æ•°ç»„ã€set é›†åˆï¼Œå¯ä»¥ä½¿ç”¨ `for...of`ï¼š

```javascript
const numbers = ["one", "two", "three"];

// å¾—åˆ°æ•°ç»„çš„æ¯ä¸€é¡¹
for (const number of numbers) {
  console.log(number);
}

// Prints: 'one' 'two' 'three'
```

ä¹Ÿå¯ä»¥ä½¿ç”¨ `for...in` æ¥å¤„ç†æ•°ç»„ï¼Œå› ä¸ºæ•°ç»„çš„ç´¢å¼•éƒ½æ˜¯å¯¹è±¡çš„å±æ€§ã€‚ä½†å¾—åˆ°çš„é¡ºåºå¯èƒ½ä¸å¯¹ï¼Œä¹Ÿä¼šå¾—åˆ°æ•°ç»„æ‹¥æœ‰çš„å…¶ä»–å±æ€§ã€‚

å¸¸è§„ä½¿ç”¨ `for` å¾ªç¯ï¼Œå¯ä»¥å¯¹å¾ªç¯æ—¶å€™æ‹¥æœ‰æ›´å¤šæ§åˆ¶æƒã€‚

_p.s. I also have two courses: [Reusable Components](https://michaelnthiessen.com/reusable-components) and [Clean Components](https://michaelnthiessen.com/clean-components)_

## æ¥æº

https://michaelnthiessen.com/weekly-070-july-20/
